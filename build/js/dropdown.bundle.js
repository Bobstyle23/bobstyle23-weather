(()=>{function t(t){this.cacheDOM(t),this.init()}t.prototype.cacheDOM=function(t){this.root=t,this.button=t.querySelector(".select__button"),this.dropdown=t.querySelector(".select__dropdown"),this.options=this.dropdown.querySelectorAll("li"),this.selectedValue=t.querySelector(".selected__value"),this.focusedIndex=-1,this.defaultValue=t.dataset.default||this.options[0]?.innerText.trim(),this.type=t.dataset.type||"default"},t.prototype.init=function(){this.selectedValue.textContent=this.defaultValue,this.options.forEach(t=>{t.addEventListener("click",()=>{this.selectOption(t),this.toggle(!1)})}),this.button.addEventListener("click",()=>this.toggle()),this.button.addEventListener("keydown",t=>this.handleDropdownKeydown(t)),this.dropdown.addEventListener("keydown",t=>this.handleDropdownKeydown(t)),document.addEventListener("click",t=>{this.root.contains(t.target)||this.toggle(!1)})},t.prototype.toggle=function(t=null){const e=null!==t?t:this.dropdown.classList.contains("hidden");this.dropdown.classList.toggle("hidden",!e),this.button.setAttribute("aria-expanded",e),e&&(this.focusedIndex=[...this.options].findIndex(t=>t.classList.contains("selected")),this.focusedIndex=-1===this.focusedIndex?0:this.focusedIndex,this.updateFocus())},t.prototype.selectOption=function(t){this.options.forEach(t=>t.classList.remove("selected")),t.classList.add("selected"),this.selectedValue.textContent=t.textContent.trim()},t.prototype.updateFocus=function(){this.options.forEach((t,e)=>{t.setAttribute("tabindex",e===this.focusedIndex?"0":"-1"),e===this.focusedIndex&&t.focus()})},t.prototype.handleButtonKeydown=function(t){"ArrowDown"===t.key?(t.preventDefault(),this.toggle(!0)):"Escape"===t.key&&this.toggle(!1)},t.prototype.handleDropdownKeydown=function(t){"ArrowDown"===t.key?(t.preventDefault(),this.focusedIndex=(this.focusedIndex+1)%this.options.length,this.updateFocus()):"ArrowUp"===t.key?(t.preventDefault(),this.focusedIndex=(this.focusedIndex-1+this.options.length)%this.options.length,this.updateFocus()):"Enter"===t.key||" "===t.key?(t.preventDefault(),this.selectOption(this.options[this.focusedIndex]),this.toggle(!1)):"Escape"===t.key&&this.toggle(!1)},document.querySelectorAll(".select").forEach(e=>new t(e))})();