(()=>{function t(t){this.cacheDOM(t),this.init()}t.prototype.cacheDOM=function(t){this.root=t,this.button=t.querySelector(".select__button"),this.dropdown=t.querySelector(".select__dropdown"),this.options=this.dropdown.querySelectorAll("li"),this.selectedValue=t.querySelector(".selected__value"),this.focusedIndex=-1,this.defaultValue=t.dataset.default||this.options[0]?.innerText.trim(),this.type=t.dataset.type||"default"},t.prototype.init=function(){this.selectedValue.textContent=this.defaultValue,this.options.forEach(t=>{t.addEventListener("click",()=>{this.selectOption(t),this.toggle(!1)})}),this.button.addEventListener("click",()=>this.toggle()),document.addEventListener("click",t=>{this.root.contains(t.target)||this.toggle(!1)})},t.prototype.toggle=function(t=null){const e=null!==t?t:this.dropdown.classList.contains("hidden");this.dropdown.classList.toggle("hidden",!e),this.button.setAttribute("aria-expanded",e),e&&(this.focusedIndex=[...this.options].findIndex(t=>t.classList.contains("selected")),this.focusedIndex=-1===this.focusedIndex?0:this.focusedIndex,this.updateFocus())},t.prototype.selectOption=function(t){if("units"===this.type){const e=t.dataset.group;this.options.forEach(t=>{t.dataset.group===e&&t.classList.remove("selected")}),t.classList.add("selected");const s={};[...this.options].forEach(t=>{t.classList.contains("selected")&&(s[t.dataset.group]=t.dataset.value)}),this.selectedValue.textContent="Units",this.selectedOptions=s,console.log(s)}else this.options.forEach(t=>t.classList.remove("selected")),t.classList.add("selected"),this.selectedValue.textContent=t.textContent.trim(),this.selectedOptions={default:t.dataset.value}},t.prototype.updateFocus=function(){this.options.forEach((t,e)=>{t.setAttribute("tabindex",e===this.focusedIndex?"0":"-1"),e===this.focusedIndex&&t.focus()})},document.querySelectorAll(".select").forEach(e=>new t(e))})();